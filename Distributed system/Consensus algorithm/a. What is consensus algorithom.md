# 共識演算法

在分散式系統中，每個節點需要達成一致，這種一致稱為**共識**。共識是指在某個決策或狀態上，集群中的所有節點最終都能夠達成一致，而不會出現部分節點執行一套邏輯，另一部分節點又執行另一套邏輯的分歧情況。

## 範例說明

假設在一個分散式資料庫集群中有三個節點（即三台資料庫），每個節點上都保存著完整的數據副本。當Client發送一個寫入請求時，Client一定只會對一個節點寫入。為了在整個集群中新增一條數據，我們希望這三個節點的狀態是一致的，即：

- 全部節點都寫入成功
- 或全部節點都寫入失敗

## 實際問題

然而，現實情況下，由於複雜的網絡環境、節點宕機、時鐘漂移等多種因素，往往會導致某些節點執行了寫入成功，而另一些節點卻沒有寫入，這會造成整個集群中的數據不一致。

## 共識演算法

為了避免這種現象，我們需要一種方法來讓每個節點都能產生一致性的結果，這種方法稱作**共識演算法**。

### 常見的共識演算法

1. **[[Paxos algorithm]]**
   - 一種經典的共識演算法，能夠在部分節點失效的情況下仍然達成共識。

2. **[[Raft algorithom]]**
   - 一種相對於Paxos更易理解和實現的共識演算法，同樣可以在部分節點失效的情況下達成共識。

3. **拜占庭容錯算法 (BFT)**
   - 一種能夠在存在惡意節點的情況下達成共識的演算法。